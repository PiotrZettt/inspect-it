{"ast":null,"code":"import _slicedToArray from\"/Users/piotrzielinski/Development/python_projects/inspect_it/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import jQueryStatic from\"jquery\";import Canvas from\"./Canvas\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Parts(){var partURL='/parts/';var instanceURL='/part_instances/';var _useState=useState(' '),_useState2=_slicedToArray(_useState,2),partFG=_useState2[0],setPartFG=_useState2[1];var _useState3=useState(' '),_useState4=_slicedToArray(_useState3,2),partDescription=_useState4[0],setPartDescription=_useState4[1];var _useState5=useState(' '),_useState6=_slicedToArray(_useState5,2),referenceImage=_useState6[0],setNewReferenceImage=_useState6[1];var _useState7=useState(' '),_useState8=_slicedToArray(_useState7,2),serialNumber=_useState8[0],setSerialNumber=_useState8[1];var _useState9=useState('Final inspection'),_useState10=_slicedToArray(_useState9,2),inspectionStage=_useState10[0],setInspectionStage=_useState10[1];var _useState11=useState('OK'),_useState12=_slicedToArray(_useState11,2),inspectionStatus=_useState12[0],setInspectionStatus=_useState12[1];useEffect(function(){getParts();},[partFG]);function getParts(){axios({method:\"GET\",url:partURL}).then(function(response){var data=response.data;var part=data.filter(function(i){return i.FG_code==partFG;});console.log(part);setNewReferenceImage(part[0].img_reference);setPartFG(part[0].FG_code);setPartDescription(part[0].description);}).catch(function(error){if(error.response){console.log(error.response);console.log(error.response.status);console.log(error.response.headers);}});}function saveInspectionResults(){function getCookie(name){var cookieValue=null;if(document.cookie&&document.cookie!==''){var cookies=document.cookie.split(';');for(var i=0;i<cookies.length;i++){var cookie=jQueryStatic.trim(cookies[i]);if(cookie.substring(0,name.length+1)===name+'='){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break;}}}console.log(cookieValue);return cookieValue;}var csrftoken=getCookie('csrftoken');var inspectionResults={part_origin:partFG,serial_number:serialNumber,stage:inspectionStage,status:inspectionStatus,operator:\"Gizmo\"};console.log(inspectionResults);axios({method:\"POST\",url:instanceURL,headers:{'Content-Type':'application/json','X-CSRFTOKEN':csrftoken},body:JSON.stringify(inspectionResults)});setSerialNumber(\" \");}var handleFGSubmit=function handleFGSubmit(e){setPartFG(e.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"partImage\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"FG_code-select\",children:\"Part FG Code\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsxs(\"select\",{id:\"FG_code-select\",onChange:handleFGSubmit,children:[/*#__PURE__*/_jsx(\"option\",{value:\" \",children:\" Select the FG Code\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG1986\",children:\" FG1986\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG1989\",children:\" FG1989\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2275\",children:\" FG2275\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2279\",children:\" FG2279\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2165\",children:\" FG2165\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2166\",children:\" FG2166\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2337\",children:\" FG2337\"}),/*#__PURE__*/_jsx(\"option\",{value:\"FG2340\",children:\" FG2340\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:partFG}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h2\",{children:partDescription}),/*#__PURE__*/_jsx(\"div\",{children:serialNumber}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Canvas,{image:referenceImage}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"SERIAL NUMBER\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:function onChange(e){setSerialNumber(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setInspectionStage(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Final Inspection\",children:\" Final inspection\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pre-paint Inspection\",children:\" Pre-paint Inspection\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:function onChange(e){setInspectionStatus(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"OK\",children:\" OK \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rework\",children:\" Rework \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Quarantine\",children:\" Quarantine \"}),/*#__PURE__*/_jsx(\"option\",{value:\"Scrap\",children:\" Scrap \"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:saveInspectionResults,children:\"Save\"})]})]});}export default Parts;","map":{"version":3,"names":["React","useState","useEffect","axios","jQueryStatic","Canvas","Parts","partURL","instanceURL","partFG","setPartFG","partDescription","setPartDescription","referenceImage","setNewReferenceImage","serialNumber","setSerialNumber","inspectionStage","setInspectionStage","inspectionStatus","setInspectionStatus","getParts","method","url","then","response","data","part","filter","i","FG_code","console","log","img_reference","description","catch","error","status","headers","saveInspectionResults","getCookie","name","cookieValue","document","cookie","cookies","split","length","trim","substring","decodeURIComponent","csrftoken","inspectionResults","part_origin","serial_number","stage","operator","body","JSON","stringify","handleFGSubmit","e","target","value"],"sources":["/Users/piotrzielinski/Development/python_projects/inspect_it/frontend/src/components/Part.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport jQueryStatic from \"jquery\";\nimport Canvas from \"./Canvas\";\n\n\nfunction Parts() {\n\n    const partURL = '/parts/'\n    const instanceURL = '/part_instances/'\n\n    const [partFG, setPartFG] = useState(' ')\n    const [partDescription, setPartDescription] = useState(' ')\n    const [referenceImage, setNewReferenceImage] = useState(' ')\n    const [serialNumber, setSerialNumber] = useState(' ')\n    const [inspectionStage, setInspectionStage] = useState('Final inspection')\n    const [inspectionStatus, setInspectionStatus] = useState('OK')\n    \n\n\n    useEffect(() => {\n        getParts()\n          } ,[partFG])\n    \n    function getParts() {\n\n      axios({\n          method: \"GET\",\n          url: partURL,\n          \n      }).then((response)=>{\n          const data = response.data\n          const part = data.filter(i => i.FG_code == partFG);\n          console.log(part);\n          setNewReferenceImage(part[0].img_reference);\n          setPartFG(part[0].FG_code);\n          setPartDescription(part[0].description);\n\n      }).catch((error) => {\n          if (error.response) {\n            console.log(error.response);\n            console.log(error.response.status);\n            console.log(error.response.headers);\n          }\n      })\n    }\n\n    function saveInspectionResults() {\n\n      function getCookie(name) {\n        var cookieValue = null;\n        if (document.cookie && document.cookie !== '') {\n            var cookies = document.cookie.split(';');\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = jQueryStatic.trim(cookies[i]);\n                if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                    break;\n                }\n            }\n        }\n        console.log(cookieValue)\n        return cookieValue;\n    }\n\n      const csrftoken = getCookie('csrftoken');\n\n      const inspectionResults = {\n            part_origin: partFG,\n            serial_number: serialNumber,\n            stage: inspectionStage,\n            status: inspectionStatus,\n            operator: \"Gizmo\"\n      };\n\n      console.log(inspectionResults);\n\n        axios({\n          method: \"POST\",\n          url: instanceURL,\n          headers: {\n            'Content-Type': 'application/json',\n            'X-CSRFTOKEN': csrftoken\n            },\n          body: JSON.stringify(inspectionResults),\n        });\n        setSerialNumber(\" \");\n    }\n\n    const handleFGSubmit = (e) => {\n\n      setPartFG(e.target.value);\n    }\n    \n    return <div className=\"partImage\">\n      <label  htmlFor=\"FG_code-select\">Part FG Code</label>\n      <form >\n      <select id=\"FG_code-select\" onChange={handleFGSubmit}>\n        <option value=\" \"> Select the FG Code</option>\n        <option value=\"FG1986\"> FG1986</option>\n        <option value=\"FG1989\"> FG1989</option>\n        <option value=\"FG2275\"> FG2275</option>\n        <option value=\"FG2279\"> FG2279</option>\n        <option value=\"FG2165\"> FG2165</option>\n        <option value=\"FG2166\"> FG2166</option>\n        <option value=\"FG2337\"> FG2337</option>\n        <option value=\"FG2340\"> FG2340</option>\n      </select>\n      </form>\n      <h1>{partFG}</h1><br/>\n      <h2>{partDescription}</h2>\n      <div>{serialNumber}</div>\n      <div>\n      <Canvas \n        image={referenceImage}\n      />\n        <form >\n          <label>SERIAL NUMBER</label>\n          <input type=\"text\" onChange={(e) => {setSerialNumber(e.target.value)}}/>\n          </form>\n          <select onChange={(e) => {setInspectionStage(e.target.value)}}>\n            <option value=\"Final Inspection\"> Final inspection</option>\n            <option value=\"Pre-paint Inspection\"> Pre-paint Inspection</option>\n            \n          </select>\n          <select onChange={(e) => {setInspectionStatus(e.target.value)}}>\n          \n            <option value=\"OK\"> OK </option>\n            <option value=\"Rework\"> Rework </option>\n            <option value=\"Quarantine\"> Quarantine </option>\n            <option value=\"Scrap\"> Scrap </option>\n          </select>\n          <button onClick={saveInspectionResults}>Save</button>\n      </div>\n      \n    </div>\n  }\nexport default Parts\n    "],"mappings":"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"},"metadata":{},"sourceType":"module"}