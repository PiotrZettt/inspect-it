{"ast":null,"code":"import _objectSpread from\"/Users/piotrzielinski/Development/python_projects/inspect_it/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/piotrzielinski/Development/python_projects/inspect_it/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";var Canvas=function Canvas(props){var canvasRef=useRef(null);var contextRef=useRef(null);var _useState=useState({}),_useState2=_slicedToArray(_useState,2),defectName=_useState2[0],setNewDefect=_useState2[1];var img=new Image();img.src=props.image;// img.width = 750\n// img.height = 450\nuseEffect(function(){var canvas=canvasRef.current;canvas.width=750;canvas.height=450;canvas.style.border=2;var context=canvas.getContext('2d');// context.scale(1, 1)\ncontext.fillStyle='rgb(255, 0, 0, 0.45)';contextRef.current=context;// context.fillStyle = '#FFFFFF'\n// context.fillRect(0, 0, context.canvas.width, context.canvas.height)\nimg.onload=function(){context.clearRect(0,0,canvas.width,canvas.height);context.drawImage(img,0,0);};console.log(props.image);},[img]);var markDefect=function markDefect(_ref){var nativeEvent=_ref.nativeEvent;var offsetX=nativeEvent.offsetX,offsetY=nativeEvent.offsetY;contextRef.current.fillRect(offsetX,offsetY,20,20);var defectName={x:offsetX,y:offsetY,kind:\"Defect Kind\",name:\"Defect Name\"};setNewDefect(defectName);};return/*#__PURE__*/_jsx(\"canvas\",_objectSpread(_objectSpread({// style={{ width: 750, height: 500, border:2}} \nref:canvasRef},props),{},{onMouseDown:markDefect}));};export default Canvas;","map":{"version":3,"names":["React","useEffect","useRef","useState","Canvas","props","canvasRef","contextRef","defectName","setNewDefect","img","Image","src","image","canvas","current","width","height","style","border","context","getContext","fillStyle","onload","clearRect","drawImage","console","log","markDefect","nativeEvent","offsetX","offsetY","fillRect","x","y","kind","name"],"sources":["/Users/piotrzielinski/Development/python_projects/inspect_it/frontend/src/components/Canvas.js"],"sourcesContent":["import React, { useEffect, useRef, useState} from 'react';\n\nconst Canvas = props => {\n\n    const canvasRef = useRef(null)\n    const contextRef = useRef(null)\n    const [defectName, setNewDefect] = useState({})\n\n\n    const img = new Image()\n    img.src = props.image\n    // img.width = 750\n    // img.height = 450\n\n    useEffect(() => {\n        const canvas = canvasRef.current\n        canvas.width = 750\n        canvas.height = 450\n        canvas.style.border = 2\n\n        const context = canvas.getContext('2d')\n        // context.scale(1, 1)\n        context.fillStyle = 'rgb(255, 0, 0, 0.45)'\n        contextRef.current = context\n          \n        // context.fillStyle = '#FFFFFF'\n        // context.fillRect(0, 0, context.canvas.width, context.canvas.height)\n        img.onload = () => {\n            context.clearRect(0, 0, canvas.width, canvas.height);\n            context.drawImage(img, 0, 0);\n          };\n\n        console.log(props.image)\n        }, [img])\n\n    const markDefect = ({nativeEvent}) => {\n            const {offsetX, offsetY} = nativeEvent;\n            contextRef.current.fillRect(offsetX, offsetY, 20, 20)\n\n            const defectName = {\n                x: offsetX,\n                y: offsetY,\n                kind: \"Defect Kind\",\n                name: \"Defect Name\"\n            }\n            setNewDefect(defectName)\n            \n        }\n\n    return <canvas \n            // style={{ width: 750, height: 500, border:2}} \n            ref={canvasRef} {...props}\n            onMouseDown={markDefect}\n            />\n}\n\nexport default Canvas   "],"mappings":"qTAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,CAAmCC,QAAnC,KAAkD,OAAlD,C,2CAEA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAAAC,KAAK,CAAI,CAEpB,GAAMC,UAAS,CAAGJ,MAAM,CAAC,IAAD,CAAxB,CACA,GAAMK,WAAU,CAAGL,MAAM,CAAC,IAAD,CAAzB,CACA,cAAmCC,QAAQ,CAAC,EAAD,CAA3C,wCAAOK,UAAP,eAAmBC,YAAnB,eAGA,GAAMC,IAAG,CAAG,GAAIC,MAAJ,EAAZ,CACAD,GAAG,CAACE,GAAJ,CAAUP,KAAK,CAACQ,KAAhB,CACA;AACA;AAEAZ,SAAS,CAAC,UAAM,CACZ,GAAMa,OAAM,CAAGR,SAAS,CAACS,OAAzB,CACAD,MAAM,CAACE,KAAP,CAAe,GAAf,CACAF,MAAM,CAACG,MAAP,CAAgB,GAAhB,CACAH,MAAM,CAACI,KAAP,CAAaC,MAAb,CAAsB,CAAtB,CAEA,GAAMC,QAAO,CAAGN,MAAM,CAACO,UAAP,CAAkB,IAAlB,CAAhB,CACA;AACAD,OAAO,CAACE,SAAR,CAAoB,sBAApB,CACAf,UAAU,CAACQ,OAAX,CAAqBK,OAArB,CAEA;AACA;AACAV,GAAG,CAACa,MAAJ,CAAa,UAAM,CACfH,OAAO,CAACI,SAAR,CAAkB,CAAlB,CAAqB,CAArB,CAAwBV,MAAM,CAACE,KAA/B,CAAsCF,MAAM,CAACG,MAA7C,EACAG,OAAO,CAACK,SAAR,CAAkBf,GAAlB,CAAuB,CAAvB,CAA0B,CAA1B,EACD,CAHH,CAKAgB,OAAO,CAACC,GAAR,CAAYtB,KAAK,CAACQ,KAAlB,EACC,CAnBI,CAmBF,CAACH,GAAD,CAnBE,CAAT,CAqBA,GAAMkB,WAAU,CAAG,QAAbA,WAAa,MAAmB,IAAjBC,YAAiB,MAAjBA,WAAiB,CAC9B,GAAOC,QAAP,CAA2BD,WAA3B,CAAOC,OAAP,CAAgBC,OAAhB,CAA2BF,WAA3B,CAAgBE,OAAhB,CACAxB,UAAU,CAACQ,OAAX,CAAmBiB,QAAnB,CAA4BF,OAA5B,CAAqCC,OAArC,CAA8C,EAA9C,CAAkD,EAAlD,EAEA,GAAMvB,WAAU,CAAG,CACfyB,CAAC,CAAEH,OADY,CAEfI,CAAC,CAAEH,OAFY,CAGfI,IAAI,CAAE,aAHS,CAIfC,IAAI,CAAE,aAJS,CAAnB,CAMA3B,YAAY,CAACD,UAAD,CAAZ,CAEH,CAZL,CAcA,mBAAO,2CACC;AACA,GAAG,CAAEF,SAFN,EAEqBD,KAFrB,MAGC,WAAW,CAAEuB,UAHd,GAAP,CAKH,CApDD,CAsDA,cAAexB,OAAf"},"metadata":{},"sourceType":"module"}